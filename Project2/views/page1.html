<div class="container" id="signup">
  <h2 class="mt-4" style="text-align: center; font-family: Lexend Deca">
    Sign Up
  </h2>
  <form id="signup-form">
    <div class="form-group1">
      <label for="name">Name:</label>
      <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1"
          ><i class="bi bi-person-fill"></i
        ></span>
        <input
          type="text"
          class="form-control"
          id="name"
          name="name"
          required
        />
      </div>
    </div>

    <div class="form-group1">
      <label for="email">Email:</label>
      <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1"
          ><i class="bi bi-envelope-fill"></i
        ></span>
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          required
        />
      </div>
    </div>

    <div class="form-group1">
      <label for="password">Password:</label>
      <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1"
          ><i class="bi bi-lock-fill"></i
        ></span>
        <input
          type="password"
          class="form-control"
          id="password"
          name="password"
          required
        />
      </div>
    </div>
    <hr style="margin: 30pt" />
    <div style="display: flex; justify-content: center; margin-top: 5%">
      <button
        type="submit"
        class="btn btn-primary"
        style="width: 50%; padding: 3%; font-weight: 600; border-radius: 10pt"
      >
        REGISTER
      </button>
    </div>
  </form>
</div>

<script>
  $(document).ready(function () {
    if ($.fn.validate) {
      // Initialize tooltips
      $('[data-bs-toggle="tooltip"]').tooltip();

      // Check if the plugin is loaded
      $("#signup-form").validate({
        rules: {
          name: {
            required: true,
          },
          email: {
            required: true,
            email: true,
          },
          password: {
            required: true,
            minlength: 6,
          },
        },
        messages: {
          name: {
            required: "Please enter your name",
          },
          email: {
            required: "Please enter your email",
            email: "Please enter a valid email address",
          },
          password: {
            required: "Please enter your password",
            minlength: "Your password must be at least 6 characters long",
          },
        },
        errorPlacement: function (error, element) {
          $(element)
            .attr("data-bs-toggle", "tooltip")
            .attr("title", error.text())
            .tooltip("show");
        },
        success: function (label, element) {
          $(element).tooltip("dispose");
        },
        submitHandler: function (form, event) {
          event.preventDefault(); // Prevent the default form submission
          const name = $("#name").val();
          const email = $("#email").val();
          const password = $("#password").val();

          // Store user data in sessionStorage
          sessionStorage.setItem("userName", name);

          // Redirect to page2.html
          window.location.hash = "#page2";
        },
      });
    } else {
      console.error("jQuery Validation plugin is not loaded.");
    }
  });
</script>
